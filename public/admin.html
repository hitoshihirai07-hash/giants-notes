<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>投稿 | 読売ジャイアンツ 良かったところメモ</title>
  <meta name="robots" content="noindex,nofollow" />
  <link rel="stylesheet" href="./assets/style.css" />
</head>
<body>
  <header class="wrap">
    <a class="back" href="./">← 一覧へ</a>
    <h1>投稿（管理）</h1>
  </header>

  <main class="wrap">
    <div class="card">
      <label class="label">管理トークン</label>
      <input id="token" class="input full" type="password" placeholder="最初に設定した ADMIN_TOKEN" />
      <div class="row">
        <button id="saveToken" class="btn">保存</button>
        <button id="clearToken" class="btn ghost">消す</button>
      </div>
      <p class="hint">※トークンはこの端末のローカル保存（localStorage）に入ります。</p>
    </div>

    <div class="card" style="margin-top:12px;">
      <div id="msg" class="msg" hidden></div>

      <form id="form" class="form">
        <div class="grid">
          <div>
            <label class="label">タイトル（必須）</label>
            <input id="title" class="input full" required />
          </div>
          <div>
            <label class="label">日付（必須）</label>
            <input id="date" class="input full" type="date" required />
          </div>
        </div>

        <label class="label">情報（任意）</label>
        <input id="info" class="input full" />

        <label class="label">タグ（任意・カンマ区切り）</label>
        <input id="tags" class="input full" />

        <label class="label">本文（必須）</label>
        <textarea id="body" class="input full" rows="10" required></textarea>
        <p class="hint" style="margin-top:8px;">※空行で段落区切り</p>

        <div class="row">
          <button id="submit" class="btn primary" type="submit">投稿</button>
          <button id="preview" class="btn" type="button">プレビュー</button>
        </div>
      </form>
    </div>

    <div class="card" style="margin-top:12px;">
      <h2 class="h2">プレビュー</h2>
      <div id="previewArea" class="preview"></div>
    </div>

    <div class="card" style="margin-top:12px;">
      <div class="row" style="justify-content: space-between; align-items: center;">
        <h2 class="h2" style="margin:0;">受信箱</h2>
        <div class="row" style="gap:8px;">
          <button id="inboxReload" class="btn" type="button">更新</button>
        </div>
      </div>
      <p class="hint" style="margin-top:8px;">/about のフォームから届いたメモがここに出ます（最新50件）。</p>
      <div id="inbox" class="list" style="margin-top:10px;"></div>
    </div>
  </main>

  <footer class="wrap foot">
    <small>© 読売ジャイアンツ 良かったところメモ ・ <a href="./about.html">このサイトについて</a></small>
  </footer>

  <script src="./assets/admin.js"></script>
</body>
</html>
