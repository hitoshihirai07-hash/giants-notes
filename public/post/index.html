<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>メモを開く | 読売ジャイアンツ 良かったところメモ</title>
  <meta name="robots" content="noindex,nofollow" />
  <link rel="stylesheet" href="/assets/style.css" />
</head>
<body>
  <main class="wrap" style="padding-top:28px;">
    <h1>メモを開いています…</h1>
    <p class="hint" id="msg">移動できない場合は、<a href="/posts/">メモ一覧</a>から開いてください。</p>
  </main>

  <script>
  (() => {
    const p = new URLSearchParams(location.search);
    let id = (p.get('id') || '').trim();

    // 安全対策: パスっぽい文字は除外
    if (id.includes('/') || id.includes('\\') || id.includes('..')) id = '';

    if (!id) {
      document.getElementById('msg').textContent = 'IDが指定されていません。メモ一覧から開いてください。';
      return;
    }

    if (!id.endsWith('.html')) id += '.html';
    const url = '/posts/' + encodeURIComponent(id);
    location.replace(url);
  })();
  </script>
</body>
</html>
